import{a as ue}from"./chunk-WXOXMQ3X.js";import{D as ce,_ as se,a as ne,aa as me,da as de,e as oe,i as re,ka as pe,m as ae,u as le}from"./chunk-TI2PQS3J.js";import{a as ie}from"./chunk-XRERQNEZ.js";import"./chunk-JQ3F7U5Y.js";import{A as x,Aa as q,B as e,C as i,D as l,F as _,G as b,Ga as L,Ha as D,K as r,L as S,M as E,Na as B,Oa as A,R as O,Sa as G,Ta as j,Ua as z,Ya as V,Za as $,db as H,eb as U,hb as Y,ia as T,ib as J,j as g,ja as I,jb as K,k as v,na as a,o as s,oa as y,pa as M,qb as Q,r as f,ra as k,rb as W,s as p,sa as w,sb as X,ta as N,tb as Z,va as F,w as C,wb as ee,xa as R,xb as te,y as P,z as h}from"./chunk-IBAPA63D.js";import"./chunk-XMAMLXFW.js";import"./chunk-EW67HA6M.js";import"./chunk-WXVXXLBH.js";import"./chunk-EFAAWUSX.js";import"./chunk-GLOUZK3F.js";import"./chunk-N4PXAYQ7.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-2YSZFPCQ.js";import"./chunk-57YRIO75.js";import"./chunk-NMPY7VJP.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{h as d}from"./chunk-B4AJQJMI.js";var ge=(n,m)=>m.valor;function fe(n,m){if(n&1&&(e(0,"ion-select-option",17),r(1),i()),n&2){let t=m.$implicit;p("value",t.valor),s(),E(" ",t.etiqueta," ")}}function Ce(n,m){if(n&1&&(e(0,"ion-chip",33)(1,"ion-label"),r(2),i()()),n&2){let t=m.$implicit,o=b(2);s(2),S(o.obtenerEtiquetaEspecialidad(t))}}function he(n,m){if(n&1&&(e(0,"div",18),h(1,Ce,3,1,"ion-chip",33,P),i()),n&2){let t,o=b();s(),x((t=o.formulario.get("especialidades"))==null?null:t.value)}}function xe(n,m){n&1&&l(0,"ion-spinner",30)}function _e(n,m){n&1&&r(0," Registrarme como T\xE9cnico ")}var we=(()=>{class n{constructor(){this.fb=g(F),this.authServicio=g(ie),this.router=g(T),this.toastCtrl=g(Q),this.cargando=!1,this.tiposServicio=ue,ne({personOutline:pe,mailOutline:de,lockClosedOutline:me,callOutline:re,briefcaseOutline:oe,cashOutline:ae,documentTextOutline:ce,closeCircle:le,locationOutline:se}),this.formulario=this.fb.group({nombre:["",[a.required,a.minLength(2)]],apellido:["",[a.required,a.minLength(2)]],email:["",[a.required,a.email]],telefono:["",[a.required]],especialidades:[[],[a.required,a.minLength(1)]],descripcion:["",[a.required,a.minLength(20)]],contrasena:["",[a.required,a.minLength(6)]],confirmarContrasena:["",[a.required]],aceptaTerminos:[!1,[a.requiredTrue]]})}obtenerEtiquetaEspecialidad(t){return this.tiposServicio.find(c=>c.valor===t)?.etiqueta||t}contrasenasCoinciden(){let t=this.formulario.get("contrasena")?.value,o=this.formulario.get("confirmarContrasena")?.value;return t===o}registrar(){return d(this,null,function*(){if(!(this.formulario.invalid||!this.contrasenasCoinciden())){this.cargando=!0;try{let t=this.formulario.value;this.authServicio.registrarTecnico({nombre:t.nombre,apellido:t.apellido,email:t.email,telefono:t.telefono,contrasena:t.contrasena,rol:"tecnico",especialidades:t.especialidades,descripcion:t.descripcion}).subscribe({next:o=>d(this,null,function*(){this.cargando=!1,o.exito?(yield this.mostrarExito("\xA1Registro exitoso! Tu cuenta est\xE1 pendiente de verificaci\xF3n."),this.router.navigate(["/tabs/inicio"],{replaceUrl:!0})):yield this.mostrarError(o.mensaje||"Error al registrar")}),error:o=>d(this,null,function*(){this.cargando=!1,yield this.mostrarError(o.error?.mensaje||"Error de conexi\xF3n")})})}catch{this.cargando=!1,yield this.mostrarError("Error inesperado")}}})}irALogin(){this.router.navigate(["/login"])}mostrarError(t){return d(this,null,function*(){yield(yield this.toastCtrl.create({message:t,duration:3e3,position:"bottom",color:"danger"})).present()})}mostrarExito(t){return d(this,null,function*(){yield(yield this.toastCtrl.create({message:t,duration:3e3,position:"bottom",color:"success"})).present()})}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=v({type:n,selectors:[["app-registro-tecnico"]],standalone:!0,features:[O],decls:66,vars:6,consts:[["slot","start"],["defaultHref","/bienvenida"],[1,"ion-padding"],[1,"registro-container"],[1,"header-section"],[3,"ngSubmit","formGroup"],[1,"formulario-registro"],[1,"section-title"],["name","person-outline","slot","start","color","medium"],["formControlName","nombre","type","text","label","Nombre","labelPlacement","floating"],["formControlName","apellido","type","text","label","Apellido","labelPlacement","floating"],["name","mail-outline","slot","start","color","medium"],["formControlName","email","type","email","label","Correo electr\xF3nico","labelPlacement","floating"],["name","call-outline","slot","start","color","medium"],["formControlName","telefono","type","tel","label","Tel\xE9fono","labelPlacement","floating"],[1,"select-especialidades"],["label","Especialidades","labelPlacement","floating","formControlName","especialidades","placeholder","Selecciona tus especialidades",3,"multiple"],[3,"value"],[1,"chips-container"],["formControlName","descripcion","label","Descripci\xF3n de tus servicios","labelPlacement","floating","placeholder","Cu\xE9ntanos sobre tu experiencia y servicios...","rows","3",3,"autoGrow"],["name","lock-closed-outline","slot","start","color","medium"],["formControlName","contrasena","type","password","label","Contrase\xF1a","labelPlacement","floating"],["slot","end"],["formControlName","confirmarContrasena","type","password","label","Confirmar contrase\xF1a","labelPlacement","floating"],["lines","none",1,"terminos-item"],["formControlName","aceptaTerminos","slot","start"],[1,"ion-text-wrap","terminos-texto"],["routerLink","/terminos",1,"link-terminos"],["routerLink","/privacidad",1,"link-terminos"],["expand","block","type","submit",1,"boton-submit",3,"disabled"],["name","crescent"],[1,"links-adicionales"],["color","primary",3,"click"],["color","primary"]],template:function(o,c){if(o&1&&(e(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),l(3,"ion-back-button",1),i(),e(4,"ion-title"),r(5,"Registro de T\xE9cnico"),i()()(),e(6,"ion-content",2)(7,"div",3)(8,"div",4)(9,"h2"),r(10,"\xDAnete como T\xE9cnico"),i(),e(11,"p"),r(12,"Ofrece tus servicios a miles de clientes"),i()(),e(13,"form",5),_("ngSubmit",function(){return c.registrar()}),e(14,"ion-list",6)(15,"h3",7),r(16,"Datos Personales"),i(),e(17,"ion-item"),l(18,"ion-icon",8)(19,"ion-input",9),i(),e(20,"ion-item"),l(21,"ion-icon",8)(22,"ion-input",10),i(),e(23,"ion-item"),l(24,"ion-icon",11)(25,"ion-input",12),i(),e(26,"ion-item"),l(27,"ion-icon",13)(28,"ion-input",14),i(),e(29,"h3",7),r(30,"Datos Profesionales"),i(),e(31,"ion-item",15)(32,"ion-select",16),h(33,fe,2,2,"ion-select-option",17,ge),i()(),f(35,he,3,0,"div",18),e(36,"ion-item"),l(37,"ion-textarea",19),i(),e(38,"h3",7),r(39,"Seguridad"),i(),e(40,"ion-item"),l(41,"ion-icon",20),e(42,"ion-input",21),l(43,"ion-input-password-toggle",22),i()(),e(44,"ion-item"),l(45,"ion-icon",20),e(46,"ion-input",23),l(47,"ion-input-password-toggle",22),i()(),e(48,"ion-item",24),l(49,"ion-checkbox",25),e(50,"ion-label",26),r(51," Acepto los "),e(52,"a",27),r(53,"T\xE9rminos y Condiciones"),i(),r(54," y la "),e(55,"a",28),r(56,"Pol\xEDtica de Privacidad"),i()()()(),e(57,"ion-button",29),f(58,xe,1,0,"ion-spinner",30)(59,_e,1,0),i()(),e(60,"div",31)(61,"p"),r(62," \xBFYa tienes cuenta? "),e(63,"ion-text",32),_("click",function(){return c.irALogin()}),e(64,"strong"),r(65,"Inicia sesi\xF3n"),i()()()()()()),o&2){let u;s(13),p("formGroup",c.formulario),s(19),p("multiple",!0),s(),x(c.tiposServicio),s(2),C(!((u=c.formulario.get("especialidades"))==null||u.value==null)&&u.value.length?35:-1),s(2),p("autoGrow",!0),s(20),p("disabled",c.formulario.invalid||!c.contrasenasCoinciden()||c.cargando),s(),C(c.cargando?58:59)}},dependencies:[A,G,K,J,q,D,L,X,Z,z,$,Y,U,j,te,ee,H,B,V,W,R,k,y,M,w,N,I],styles:['@charset "UTF-8";.registro-container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto}.header-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px}.header-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#fff;margin:0 0 8px}.header-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium);margin:0}.section-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--ion-color-primary);margin:24px 0 8px 16px}.chips-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:8px 16px;gap:4px}.boton-submit[_ngcontent-%COMP%]{margin-top:24px;--border-radius: 12px;height:50px}.links-adicionales[_ngcontent-%COMP%]{text-align:center;margin-top:24px;padding-bottom:24px}.links-adicionales[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium)}.links-adicionales[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{cursor:pointer}.select-especialidades[_ngcontent-%COMP%]{--color: var(--ion-color-dark)}.select-especialidades[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{color:var(--ion-color-dark)!important}.select-especialidades[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]::part(text), .select-especialidades[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]::part(label){color:var(--ion-color-dark)!important}.terminos-item[_ngcontent-%COMP%]{--color: var(--ion-color-dark)}.terminos-texto[_ngcontent-%COMP%]{color:var(--ion-color-dark)!important;font-size:14px}.link-terminos[_ngcontent-%COMP%]{color:var(--ion-color-primary)!important;text-decoration:none;font-weight:500}.link-terminos[_ngcontent-%COMP%]:hover{text-decoration:underline}']})}}return n})();export{we as RegistroTecnicoPage};
