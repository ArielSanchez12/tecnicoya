import{D as G,E as K,Ea as ae,H as Q,O as X,T as Y,V as Z,_ as $,a as V,aa as ee,ca as ne,fa as te,ha as ie,va as oe}from"./chunk-TI2PQS3J.js";import{a as J}from"./chunk-XRERQNEZ.js";import"./chunk-JQ3F7U5Y.js";import{Aa as w,B as e,C as n,D as r,F as l,Ga as O,Ha as T,Ia as v,Ja as k,K as i,Ka as I,L as S,Ma as W,O as g,Oa as x,P as d,Q as u,R as b,Sa as L,Ua as F,Ya as B,Za as z,db as N,ia as P,ib as D,j as _,jb as j,k as h,o as m,oa as y,ob as A,qa as M,qb as U,sb as H,wa as E,wb as R,yb as q}from"./chunk-IBAPA63D.js";import"./chunk-XMAMLXFW.js";import"./chunk-EW67HA6M.js";import"./chunk-WXVXXLBH.js";import"./chunk-EFAAWUSX.js";import"./chunk-GLOUZK3F.js";import"./chunk-N4PXAYQ7.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-2YSZFPCQ.js";import"./chunk-57YRIO75.js";import"./chunk-NMPY7VJP.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{a as p,h as f}from"./chunk-B4AJQJMI.js";var Ce=(()=>{class C{constructor(){this.router=_(P),this.authServicio=_(J),this.alertCtrl=_(A),this.toastCtrl=_(U),this.config={notificacionesPush:!0,notifMensajes:!0,notifCotizaciones:!0,notifPromociones:!1,tema:"system",idioma:"es",compartirUbicacion:!0,perfilPublico:!0},this.version="1.0.0",V({notificationsOutline:ie,moonOutline:te,languageOutline:Z,locationOutline:$,lockClosedOutline:ee,eyeOffOutline:Q,trashOutline:ae,downloadOutline:K,informationCircleOutline:Y,helpCircleOutline:X,documentTextOutline:G,shieldOutline:oe,logOutOutline:ne})}ngOnInit(){this.cargarConfig()}cargarConfig(){let c=localStorage.getItem("tecnicoya_config");c&&(this.config=p(p({},this.config),JSON.parse(c)))}guardarConfig(){localStorage.setItem("tecnicoya_config",JSON.stringify(this.config))}cambiarTema(){document.body.classList.remove("dark"),(this.config.tema==="dark"||this.config.tema==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add("dark"),this.guardarConfig()}cambiarContrasena(){return f(this,null,function*(){yield(yield this.alertCtrl.create({header:"Cambiar contrase\xF1a",inputs:[{name:"actual",type:"password",placeholder:"Contrase\xF1a actual"},{name:"nueva",type:"password",placeholder:"Nueva contrase\xF1a"},{name:"confirmar",type:"password",placeholder:"Confirmar nueva contrase\xF1a"}],buttons:[{text:"Cancelar",role:"cancel"},{text:"Cambiar",handler:s=>f(this,null,function*(){return s.nueva!==s.confirmar?(this.mostrarToast("Las contrase\xF1as no coinciden","danger"),!1):s.nueva.length<6?(this.mostrarToast("La contrase\xF1a debe tener al menos 6 caracteres","danger"),!1):(this.mostrarToast("Contrase\xF1a actualizada correctamente","success"),!0)})}]})).present()})}descargarDatos(){return f(this,null,function*(){yield(yield this.toastCtrl.create({message:"Preparando descarga de datos...",duration:2e3,position:"bottom"})).present()})}eliminarCuenta(){return f(this,null,function*(){yield(yield this.alertCtrl.create({header:"\xBFEliminar cuenta?",message:"Esta acci\xF3n es irreversible. Todos tus datos ser\xE1n eliminados permanentemente.",buttons:[{text:"Cancelar",role:"cancel"},{text:"Eliminar",role:"destructive",handler:()=>f(this,null,function*(){yield(yield this.alertCtrl.create({header:"Confirmar eliminaci\xF3n",message:"Ingresa tu contrase\xF1a para confirmar",inputs:[{name:"password",type:"password",placeholder:"Contrase\xF1a"}],buttons:[{text:"Cancelar",role:"cancel"},{text:"Eliminar cuenta",role:"destructive",handler:()=>{this.authServicio.logout(),this.router.navigate(["/bienvenida"])}}]})).present()})}]})).present()})}cerrarSesion(){return f(this,null,function*(){yield(yield this.alertCtrl.create({header:"Cerrar sesi\xF3n",message:"\xBFEst\xE1s seguro de que deseas cerrar sesi\xF3n?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Cerrar sesi\xF3n",handler:()=>{this.authServicio.logout(),this.router.navigate(["/bienvenida"])}}]})).present()})}mostrarToast(c,s="primary"){return f(this,null,function*(){yield(yield this.toastCtrl.create({message:c,duration:2e3,color:s,position:"bottom"})).present()})}static{this.\u0275fac=function(s){return new(s||C)}}static{this.\u0275cmp=h({type:C,selectors:[["app-configuracion"]],standalone:!0,features:[b],decls:136,vars:9,consts:[["slot","start"],["defaultHref","/tabs/perfil"],["name","notifications-outline"],["lines","none"],[3,"ngModelChange","ionChange","ngModel"],["name","moon-outline"],["value","light"],["value","dark"],["value","system"],["value","es"],["value","en"],["name","shield-outline"],["button","",3,"click"],["name","lock-closed-outline","slot","start"],["name","download-outline"],["name","download-outline","slot","start"],["name","trash-outline","slot","start","color","danger"],["color","danger"],["name","information-circle-outline"],["button","","routerLink","/ayuda"],["name","help-circle-outline","slot","start"],["button","","routerLink","/terminos"],["name","document-text-outline","slot","start"],["button","","routerLink","/privacidad"],["name","shield-outline","slot","start"],[1,"ion-padding"],["expand","block","color","danger","fill","outline",3,"click"],["name","log-out-outline","slot","start"]],template:function(s,t){s&1&&(e(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),r(3,"ion-back-button",1),n(),e(4,"ion-title"),i(5,"Configuraci\xF3n"),n()()(),e(6,"ion-content")(7,"ion-card")(8,"ion-card-header")(9,"ion-card-title"),r(10,"ion-icon",2),i(11," Notificaciones "),n()(),e(12,"ion-card-content")(13,"ion-list",3)(14,"ion-item")(15,"ion-label")(16,"h3"),i(17,"Push notifications"),n(),e(18,"p"),i(19,"Recibe alertas en tu dispositivo"),n()(),e(20,"ion-toggle",4),u("ngModelChange",function(o){return d(t.config.notificacionesPush,o)||(t.config.notificacionesPush=o),o}),l("ionChange",function(){return t.guardarConfig()}),n()(),e(21,"ion-item")(22,"ion-label")(23,"h3"),i(24,"Nuevos mensajes"),n(),e(25,"p"),i(26,"Notificar cuando recibas mensajes"),n()(),e(27,"ion-toggle",4),u("ngModelChange",function(o){return d(t.config.notifMensajes,o)||(t.config.notifMensajes=o),o}),l("ionChange",function(){return t.guardarConfig()}),n()(),e(28,"ion-item")(29,"ion-label")(30,"h3"),i(31,"Cotizaciones"),n(),e(32,"p"),i(33,"Notificar nuevas cotizaciones"),n()(),e(34,"ion-toggle",4),u("ngModelChange",function(o){return d(t.config.notifCotizaciones,o)||(t.config.notifCotizaciones=o),o}),l("ionChange",function(){return t.guardarConfig()}),n()(),e(35,"ion-item")(36,"ion-label")(37,"h3"),i(38,"Promociones"),n(),e(39,"p"),i(40,"Recibe ofertas y descuentos"),n()(),e(41,"ion-toggle",4),u("ngModelChange",function(o){return d(t.config.notifPromociones,o)||(t.config.notifPromociones=o),o}),l("ionChange",function(){return t.guardarConfig()}),n()()()()(),e(42,"ion-card")(43,"ion-card-header")(44,"ion-card-title"),r(45,"ion-icon",5),i(46," Apariencia "),n()(),e(47,"ion-card-content")(48,"ion-list",3)(49,"ion-item")(50,"ion-label"),i(51,"Tema"),n(),e(52,"ion-select",4),u("ngModelChange",function(o){return d(t.config.tema,o)||(t.config.tema=o),o}),l("ionChange",function(){return t.cambiarTema()}),e(53,"ion-select-option",6),i(54,"Claro"),n(),e(55,"ion-select-option",7),i(56,"Oscuro"),n(),e(57,"ion-select-option",8),i(58,"Sistema"),n()()(),e(59,"ion-item")(60,"ion-label"),i(61,"Idioma"),n(),e(62,"ion-select",4),u("ngModelChange",function(o){return d(t.config.idioma,o)||(t.config.idioma=o),o}),l("ionChange",function(){return t.guardarConfig()}),e(63,"ion-select-option",9),i(64,"Espa\xF1ol"),n(),e(65,"ion-select-option",10),i(66,"English"),n()()()()()(),e(67,"ion-card")(68,"ion-card-header")(69,"ion-card-title"),r(70,"ion-icon",11),i(71," Privacidad "),n()(),e(72,"ion-card-content")(73,"ion-list",3)(74,"ion-item")(75,"ion-label")(76,"h3"),i(77,"Compartir ubicaci\xF3n"),n(),e(78,"p"),i(79,"Permitir que los t\xE9cnicos vean tu ubicaci\xF3n"),n()(),e(80,"ion-toggle",4),u("ngModelChange",function(o){return d(t.config.compartirUbicacion,o)||(t.config.compartirUbicacion=o),o}),l("ionChange",function(){return t.guardarConfig()}),n()(),e(81,"ion-item")(82,"ion-label")(83,"h3"),i(84,"Perfil p\xFAblico"),n(),e(85,"p"),i(86,"Tu perfil visible para otros usuarios"),n()(),e(87,"ion-toggle",4),u("ngModelChange",function(o){return d(t.config.perfilPublico,o)||(t.config.perfilPublico=o),o}),l("ionChange",function(){return t.guardarConfig()}),n()(),e(88,"ion-item",12),l("click",function(){return t.cambiarContrasena()}),r(89,"ion-icon",13),e(90,"ion-label"),i(91,"Cambiar contrase\xF1a"),n()()()()(),e(92,"ion-card")(93,"ion-card-header")(94,"ion-card-title"),r(95,"ion-icon",14),i(96," Mis datos "),n()(),e(97,"ion-card-content")(98,"ion-list",3)(99,"ion-item",12),l("click",function(){return t.descargarDatos()}),r(100,"ion-icon",15),e(101,"ion-label"),i(102,"Descargar mis datos"),n()(),e(103,"ion-item",12),l("click",function(){return t.eliminarCuenta()}),r(104,"ion-icon",16),e(105,"ion-label",17),i(106,"Eliminar mi cuenta"),n()()()()(),e(107,"ion-card")(108,"ion-card-header")(109,"ion-card-title"),r(110,"ion-icon",18),i(111," Informaci\xF3n "),n()(),e(112,"ion-card-content")(113,"ion-list",3)(114,"ion-item",19),r(115,"ion-icon",20),e(116,"ion-label"),i(117,"Centro de ayuda"),n()(),e(118,"ion-item",21),r(119,"ion-icon",22),e(120,"ion-label"),i(121,"T\xE9rminos y condiciones"),n()(),e(122,"ion-item",23),r(123,"ion-icon",24),e(124,"ion-label"),i(125,"Pol\xEDtica de privacidad"),n()(),e(126,"ion-item")(127,"ion-label")(128,"h3"),i(129,"Versi\xF3n"),n(),e(130,"p"),i(131),n()()()()()(),e(132,"div",25)(133,"ion-button",26),l("click",function(){return t.cerrarSesion()}),r(134,"ion-icon",27),i(135," Cerrar sesi\xF3n "),n()()()),s&2&&(m(20),g("ngModel",t.config.notificacionesPush),m(7),g("ngModel",t.config.notifMensajes),m(7),g("ngModel",t.config.notifCotizaciones),m(7),g("ngModel",t.config.notifPromociones),m(11),g("ngModel",t.config.tema),m(10),g("ngModel",t.config.idioma),m(18),g("ngModel",t.config.compartirUbicacion),m(7),g("ngModel",t.config.perfilPublico),m(44),S(t.version))},dependencies:[x,L,j,D,T,w,z,F,B,H,q,R,N,v,k,I,W,O,E,y,M],styles:["ion-card[_ngcontent-%COMP%]{margin:16px;border-radius:12px}ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{padding-bottom:0}ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:16px;font-weight:600}ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;color:var(--ion-color-primary)}ion-item[_ngcontent-%COMP%]{--padding-start: 0}ion-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:500;margin-bottom:2px}ion-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;color:var(--ion-color-medium)}ion-item[_ngcontent-%COMP%]   ion-icon[slot=start][_ngcontent-%COMP%]{margin-right:12px;font-size:20px;color:var(--ion-color-medium)}ion-toggle[_ngcontent-%COMP%]{--background: var(--ion-color-light);--background-checked: var(--ion-color-primary)}"]})}}return C})();export{Ce as ConfiguracionPage};
