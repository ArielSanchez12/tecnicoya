import{a as ue}from"./chunk-L2HDJ5P4.js";import{a as me}from"./chunk-X344YWBZ.js";import{a as pe}from"./chunk-WXOXMQ3X.js";import{Aa as de,Da as se,K as oe,_ as ae,a as Z,e as ee,i as te,ma as ce,n as ne,o as ie,ua as re,za as le}from"./chunk-TI2PQS3J.js";import"./chunk-JQ3F7U5Y.js";import{A as v,Aa as j,B as t,C as n,D as l,E as O,Ea as R,F as x,G as s,Ga as B,Ha as A,Ia as $,Ja as D,K as o,Ka as U,L as p,M as h,Ma as q,N as M,Na as H,Oa as L,R as y,S as k,Sa as N,T as S,Ua as G,V as E,Ya as J,Z as w,Za as K,_ as F,eb as Q,ga as z,ia as V,ib as W,j as _,jb as X,k as I,l as f,m as g,n as b,o as a,r as m,s as C,sb as Y,w as u,y as T,z as P}from"./chunk-IBAPA63D.js";import"./chunk-XMAMLXFW.js";import"./chunk-EW67HA6M.js";import"./chunk-WXVXXLBH.js";import"./chunk-EFAAWUSX.js";import"./chunk-GLOUZK3F.js";import"./chunk-N4PXAYQ7.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-2YSZFPCQ.js";import"./chunk-57YRIO75.js";import"./chunk-NMPY7VJP.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import"./chunk-B4AJQJMI.js";var _e=(i,r)=>r._id,fe=()=>[1,2,3,4,5];function ge(i,r){i&1&&(t(0,"div",2),l(1,"ion-spinner"),n())}function xe(i,r){i&1&&(t(0,"span",6),l(1,"ion-icon",28),o(2," T\xE9cnico verificado "),n())}function Ce(i,r){i&1&&(t(0,"ion-chip",8),l(1,"ion-icon",29),t(2,"ion-label"),o(3,"24/7"),n()())}function Pe(i,r){if(i&1&&(t(0,"ion-chip")(1,"ion-label"),o(2),n()()),i&2){let e=r.$implicit,c=s(2);a(2),p(c.obtenerEtiquetaEspecialidad(e))}}function ve(i,r){if(i&1&&(t(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),o(3,"Acerca de"),n()(),t(4,"ion-card-content")(5,"p"),o(6),n()()()),i&2){let e=s(2);a(6),p(e.tecnico.datosTecnico==null?null:e.tecnico.datosTecnico.descripcion)}}function he(i,r){if(i&1){let e=O();t(0,"ion-button",30),x("click",function(){f(e);let d=s(2);return g(d.verTodasResenas())}),o(1," Ver todas "),n()}}function be(i,r){i&1&&(t(0,"p",25),o(1,"Este t\xE9cnico a\xFAn no tiene rese\xF1as"),n())}function Te(i,r){if(i&1&&l(0,"ion-icon",38),i&2){let e=r.$implicit,c=s().$implicit;C("name",e<=c.calificacion?"star":"star-outline")("color",e<=c.calificacion?"warning":"medium")}}function Oe(i,r){if(i&1&&(t(0,"div",40)(1,"strong"),o(2,"Respuesta del t\xE9cnico:"),n(),t(3,"p"),o(4),n()()),i&2){let e=s().$implicit;a(4),p(e.respuestaTecnico)}}function Me(i,r){if(i&1&&(t(0,"div",31)(1,"div",32)(2,"ion-avatar"),l(3,"img",33),n(),t(4,"div",34)(5,"span",35),o(6),n(),t(7,"span",36),o(8),S(9,"date"),n()(),t(10,"div",37),P(11,Te,1,2,"ion-icon",38,T),n()(),t(13,"p",39),o(14),n(),m(15,Oe,5,1,"div",40),n()),i&2){let e=r.$implicit;a(3),C("src",(e.cliente==null||e.cliente.perfil==null?null:e.cliente.perfil.fotoUrl)||(e.cliente==null||e.cliente.perfil==null?null:e.cliente.perfil.fotoPerfil)||"assets/avatar-default.png",b),a(3),M("",e.cliente==null?null:e.cliente.nombre," ",e.cliente==null?null:e.cliente.apellido,""),a(2),p(E(9,6,e.createdAt,"dd/MM/yyyy")),a(3),v(k(9,fe)),a(3),p(e.comentario),a(),u(e.respuestaTecnico?15:-1)}}function Se(i,r){if(i&1&&P(0,Me,16,10,"div",31,_e),i&2){let e=s(2);v(e.resenas.slice(0,3))}}function Ee(i,r){if(i&1){let e=O();t(0,"div",3)(1,"ion-avatar"),l(2,"img",4),n(),t(3,"div",5)(4,"h2"),o(5),n(),m(6,xe,3,0,"span",6),n(),t(7,"div",7),m(8,Ce,4,0,"ion-chip",8),n()(),t(9,"div",9)(10,"div",10)(11,"div",11),l(12,"ion-icon",12),o(13),S(14,"number"),n(),t(15,"div",13),o(16,"Calificaci\xF3n"),n()(),t(17,"div",10)(18,"div",11),o(19),n(),t(20,"div",13),o(21,"Trabajos"),n()(),t(22,"div",10)(23,"div",11),o(24),n(),t(25,"div",13),o(26,"A\xF1os exp."),n()()(),t(27,"div",14)(28,"ion-button",15),x("click",function(){f(e);let d=s();return g(d.llamar())}),l(29,"ion-icon",16),o(30," Llamar "),n(),t(31,"ion-button",17),x("click",function(){f(e);let d=s();return g(d.enviarMensaje())}),l(32,"ion-icon",18),o(33," Mensaje "),n()(),t(34,"ion-card")(35,"ion-card-header")(36,"ion-card-title"),o(37,"Especialidades"),n()(),t(38,"ion-card-content")(39,"div",19),P(40,Pe,3,1,"ion-chip",null,T),n()()(),m(42,ve,7,1,"ion-card"),t(43,"ion-card")(44,"ion-card-header")(45,"ion-card-title"),o(46,"Informaci\xF3n"),n()(),t(47,"ion-card-content")(48,"ion-list",20)(49,"ion-item"),l(50,"ion-icon",21),t(51,"ion-label")(52,"p"),o(53,"Radio de trabajo"),n(),t(54,"h3"),o(55),n()()(),t(56,"ion-item"),l(57,"ion-icon",22),t(58,"ion-label")(59,"p"),o(60,"Disponibilidad"),n(),t(61,"h3"),o(62),n()()()()()(),t(63,"ion-card")(64,"ion-card-header")(65,"div",23)(66,"ion-card-title"),o(67),n(),m(68,he,2,0,"ion-button",24),n()(),t(69,"ion-card-content"),m(70,be,2,0,"p",25)(71,Se,2,0),n()(),t(72,"div",26)(73,"ion-button",27),x("click",function(){f(e);let d=s();return g(d.solicitarServicio())}),o(74," Solicitar Servicio "),n()()}if(i&2){let e=s();a(2),C("src",(e.tecnico.perfil==null?null:e.tecnico.perfil.fotoUrl)||(e.tecnico.perfil==null?null:e.tecnico.perfil.fotoPerfil)||"assets/avatar-default.png",b),a(3),M("",e.tecnico.nombre," ",e.tecnico.apellido,""),a(),u(e.esTecnicoVerificado(e.tecnico)?6:-1),a(2),u(e.tecnico.datosTecnico!=null&&e.tecnico.datosTecnico.emergencia24h?8:-1),a(5),h(" ",E(14,14,e.tecnico.datosTecnico==null?null:e.tecnico.datosTecnico.calificacionPromedio,"1.1-1")," "),a(6),p(e.tecnico.datosTecnico==null?null:e.tecnico.datosTecnico.trabajosCompletados),a(5),p(e.tecnico.datosTecnico==null?null:e.tecnico.datosTecnico.experiencia),a(16),v(e.tecnico.datosTecnico==null?null:e.tecnico.datosTecnico.especialidades),a(2),u(e.tecnico.datosTecnico!=null&&e.tecnico.datosTecnico.descripcion?42:-1),a(13),h("",e.tecnico.datosTecnico==null?null:e.tecnico.datosTecnico.radioTrabajo," km"),a(7),p(e.tecnico.datosTecnico!=null&&e.tecnico.datosTecnico.disponibleAhora?"Disponible ahora":"No disponible"),a(5),h(" Rese\xF1as (",e.resenas.length,") "),a(),u(e.resenas.length>3?68:-1),a(2),u(e.resenas.length===0?70:71)}}var qe=(()=>{class i{constructor(){this.route=_(z),this.router=_(V),this.usuariosServicio=_(me),this.resenasServicio=_(ue),this.tecnico=null,this.resenas=[],this.cargando=!1,Z({starOutline:de,star:le,locationOutline:ae,callOutline:te,chatbubbleOutline:ne,shieldCheckmarkOutline:re,timeOutline:se,briefcaseOutline:ee,flashOutline:oe,ribbonOutline:ce,checkmarkCircle:ie})}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&(this.cargarTecnico(e),this.cargarResenas(e))}cargarTecnico(e){this.cargando=!0,this.usuariosServicio.obtenerPerfil(e).subscribe({next:c=>{this.cargando=!1,c.datos&&(this.tecnico=c.datos)},error:()=>{this.cargando=!1}})}cargarResenas(e){this.resenasServicio.obtenerResenasTecnico(e).subscribe({next:c=>{c.datos&&(this.resenas=c.datos)}})}llamar(){this.tecnico?.telefono&&(window.location.href=`tel:${this.tecnico.telefono}`)}enviarMensaje(){this.router.navigate(["/chat",this.tecnico?._id])}solicitarServicio(){this.router.navigate(["/nuevo-servicio"],{queryParams:{tecnicoId:this.tecnico?._id}})}verTodasResenas(){this.router.navigate(["/resenas-tecnico",this.tecnico?._id])}obtenerEtiquetaEspecialidad(e){return pe.find(d=>d.valor===e)?.etiqueta||e}esTecnicoVerificado(e){return e?.datosTecnico?.membresia?.badgeVerificado===!0||e?.datosTecnico?.verificado===!0}static{this.\u0275fac=function(c){return new(c||i)}}static{this.\u0275cmp=I({type:i,selectors:[["app-perfil-tecnico"]],standalone:!0,features:[y],decls:9,vars:1,consts:[["slot","start"],["defaultHref","/tabs/buscar"],[1,"loading-container"],[1,"perfil-header"],["alt","Foto",3,"src"],[1,"nombre-row"],[1,"badge-tecnico-verificado"],[1,"badges"],["color","danger"],[1,"estadisticas-container"],[1,"stat-card"],[1,"stat-value"],["name","star","color","warning"],[1,"stat-label"],[1,"botones-contacto","ion-padding"],["expand","block",3,"click"],["name","call-outline","slot","start"],["expand","block","fill","outline",3,"click"],["name","chatbubble-outline","slot","start"],[1,"especialidades"],["lines","none"],["name","location-outline","slot","start","color","primary"],["name","time-outline","slot","start","color","primary"],[1,"resenas-header"],["fill","clear","size","small"],[1,"sin-resenas"],[1,"ion-padding"],["expand","block","size","large",3,"click"],["name","shield-checkmark-outline"],["name","flash-outline"],["fill","clear","size","small",3,"click"],[1,"resena-item"],[1,"resena-header"],["alt","",3,"src"],[1,"resena-autor"],[1,"nombre"],[1,"fecha"],[1,"resena-calificacion"],[3,"name","color"],[1,"resena-comentario"],[1,"respuesta-tecnico"]],template:function(c,d){c&1&&(t(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),l(3,"ion-back-button",1),n(),t(4,"ion-title"),o(5,"Perfil del T\xE9cnico"),n()()(),t(6,"ion-content"),m(7,ge,2,0,"div",2)(8,Ee,75,17),n()),c&2&&(a(7),u(d.cargando?7:d.tecnico?8:-1))},dependencies:[L,N,X,W,A,j,$,D,U,q,R,Y,B,H,J,K,G,Q,F,w],styles:[".loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:64px}.perfil-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--ion-color-primary),var(--ion-color-primary-shade));color:#fff;padding:32px 16px;text-align:center}.perfil-header[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{width:100px;height:100px;margin:0 auto 16px;border:4px solid white;box-shadow:0 4px 12px #0003}.perfil-header[_ngcontent-%COMP%]   .nombre-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;flex-wrap:wrap;margin-bottom:12px}.perfil-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:600}.perfil-header[_ngcontent-%COMP%]   .badge-verificado[_ngcontent-%COMP%]{font-size:11px;padding:4px 8px;--background: #4caf50;--color: white}.perfil-header[_ngcontent-%COMP%]   .badges[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:8px}.estadisticas-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;padding:20px 16px;background:#fff;margin-top:-20px;border-radius:20px 20px 0 0;box-shadow:0 -4px 20px #0000001a}.estadisticas-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{text-align:center}.estadisticas-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:4px;font-size:24px;font-weight:700;color:var(--ion-color-primary)}.estadisticas-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.estadisticas-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:12px;color:var(--ion-color-medium);margin-top:4px}.botones-contacto[_ngcontent-%COMP%]{display:flex;gap:12px}.botones-contacto[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{flex:1}ion-card[_ngcontent-%COMP%]{margin:16px;border-radius:12px}.especialidades[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.resenas-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.sin-resenas[_ngcontent-%COMP%]{text-align:center;color:var(--ion-color-medium);padding:16px}.resena-item[_ngcontent-%COMP%]{padding:16px 0;border-bottom:1px solid var(--ion-color-light)}.resena-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.resena-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:12px}.resena-header[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{width:40px;height:40px}.resena-header[_ngcontent-%COMP%]   .resena-autor[_ngcontent-%COMP%]{flex:1}.resena-header[_ngcontent-%COMP%]   .resena-autor[_ngcontent-%COMP%]   .nombre[_ngcontent-%COMP%]{display:block;font-weight:600;font-size:14px}.resena-header[_ngcontent-%COMP%]   .resena-autor[_ngcontent-%COMP%]   .fecha[_ngcontent-%COMP%]{font-size:12px;color:var(--ion-color-medium)}.resena-header[_ngcontent-%COMP%]   .resena-calificacion[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px}.resena-comentario[_ngcontent-%COMP%]{color:var(--ion-color-medium);font-size:14px;line-height:1.5;margin:0}.respuesta-tecnico[_ngcontent-%COMP%]{margin-top:12px;padding:12px;background:var(--ion-color-light);border-radius:8px;font-size:13px}.respuesta-tecnico[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-bottom:4px}.respuesta-tecnico[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--ion-color-medium)}"]})}}return i})();export{qe as PerfilTecnicoPage};
