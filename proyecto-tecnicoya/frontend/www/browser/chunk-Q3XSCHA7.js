import{a as Fe}from"./chunk-VZSTYWCH.js";import{a as Ne}from"./chunk-RL3NGRP4.js";import{a as $e}from"./chunk-2WRDL5NI.js";import{a as Ae,b as Ve}from"./chunk-WXOXMQ3X.js";import{Aa as Ie,D as Te,Da as De,F as Me,K as Ee,S as we,_ as ze,a as ve,h as fe,i as Ce,ka as je,m as xe,n as he,p as be,t as Pe,ua as ye,v as Se,z as Oe,za as ke}from"./chunk-TI2PQS3J.js";import{a as ue}from"./chunk-XRERQNEZ.js";import"./chunk-JQ3F7U5Y.js";import{$ as B,A as k,Aa as J,B as i,C as o,D as s,E as h,Ea as K,F as C,Fa as Q,G as p,Ga as W,Ha as X,Ia as Y,Ja as Z,K as r,Ka as ee,L as b,M as O,Ma as te,N as $,Na as ie,Oa as ne,R as F,Sa as oe,T,V as w,W as N,X as q,Ya as ae,Z as R,_ as U,aa as H,eb as ce,ga as G,ia as L,ib as re,j as u,jb as le,k as A,l as v,lb as se,m as f,n as z,nb as de,o as c,ob as me,pb as pe,qb as _e,r as S,s as E,sb as ge,w as _,x as V,z as y}from"./chunk-IBAPA63D.js";import"./chunk-XMAMLXFW.js";import"./chunk-EW67HA6M.js";import"./chunk-WXVXXLBH.js";import"./chunk-EFAAWUSX.js";import"./chunk-GLOUZK3F.js";import"./chunk-N4PXAYQ7.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-2YSZFPCQ.js";import"./chunk-57YRIO75.js";import"./chunk-NMPY7VJP.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{h as x}from"./chunk-B4AJQJMI.js";var He=(a,m)=>m._id;function Ge(a,m){if(a&1){let e=h();i(0,"ion-buttons",2)(1,"ion-button",4),C("click",function(){v(e);let n=p();return f(n.mostrarOpciones())}),s(2,"ion-icon",5),o()()}}function Le(a,m){a&1&&(i(0,"div",3),s(1,"ion-spinner"),i(2,"p"),r(3,"Cargando..."),o()())}function Je(a,m){a&1&&(i(0,"ion-badge",8),s(1,"ion-icon",21),r(2," URGENTE "),o())}function Ke(a,m){if(a&1){let e=h();i(0,"img",25),C("click",function(){let n=v(e).$implicit,l=p(3);return f(l.verFoto(n.url||n))}),o()}if(a&2){let e=m.$implicit;E("src",e.url||e,z)}}function Qe(a,m){if(a&1&&(i(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),s(3,"ion-icon",22),r(4," Fotos del problema "),o()(),i(5,"ion-card-content")(6,"div",23),y(7,Ke,1,1,"img",24,V),o()()()),a&2){let e=p(2);c(7),k(e.servicio.fotos)}}function We(a,m){a&1&&(i(0,"span",31),s(1,"ion-icon",38),r(2," Verificado "),o())}function Xe(a,m){if(a&1){let e=h();i(0,"ion-card",26),C("click",function(){v(e);let n=p(2);return f(n.verTecnico(n.servicio.tecnicoAsignado._id))}),i(1,"ion-card-header")(2,"ion-card-title"),r(3,"T\xE9cnico Asignado"),o()(),i(4,"ion-card-content")(5,"div",27)(6,"ion-avatar"),s(7,"img",28),o(),i(8,"div",29)(9,"div",30)(10,"h4"),r(11),o(),S(12,We,3,0,"span",31),o(),i(13,"div",32),s(14,"ion-icon",33),i(15,"span"),r(16),T(17,"number"),o()()(),i(18,"div",34)(19,"ion-button",35),C("click",function(n){v(e);let l=p(2);return f(l.llamar(l.servicio.tecnicoAsignado.telefono,n))}),s(20,"ion-icon",36),o(),i(21,"ion-button",35),C("click",function(n){v(e);let l=p(2);return f(l.abrirChat(l.servicio.tecnicoAsignado._id,n))}),s(22,"ion-icon",37),o()()()()()}if(a&2){let e=p(2);c(7),E("src",(e.servicio.tecnicoAsignado.perfil==null?null:e.servicio.tecnicoAsignado.perfil.fotoUrl)||(e.servicio.tecnicoAsignado.perfil==null?null:e.servicio.tecnicoAsignado.perfil.fotoPerfil)||"assets/avatar-default.png",z),c(4),$("",e.servicio.tecnicoAsignado.nombre," ",e.servicio.tecnicoAsignado.apellido,""),c(),_(e.servicio.tecnicoAsignado.datosTecnico!=null&&e.servicio.tecnicoAsignado.datosTecnico.verificado?12:-1),c(4),b(w(17,5,e.servicio.tecnicoAsignado.datosTecnico==null?null:e.servicio.tecnicoAsignado.datosTecnico.calificacionPromedio,"1.1-1"))}}function Ye(a,m){if(a&1){let e=h();i(0,"ion-card",39),C("click",function(){v(e);let n=p(2);return f(n.irAlTrabajo())}),i(1,"ion-card-content")(2,"div",40),s(3,"ion-icon",41),i(4,"div",42)(5,"h4"),r(6,"Ver Detalles del Trabajo"),o(),i(7,"p"),r(8),o()(),s(9,"ion-icon",43),o()()()}if(a&2){let e=p(2);c(8),O("Estado: ",e.obtenerEtiquetaEstadoTrabajo(e.trabajoAsociado.estado),"")}}function Ze(a,m){a&1&&(i(0,"span",31),s(1,"ion-icon",38),r(2," Verificado "),o())}function et(a,m){if(a&1){let e=h();i(0,"div",47),C("click",function(){let n=v(e).$implicit,l=p(3);return f(l.verCotizacion(n._id))}),i(1,"div",48)(2,"ion-avatar"),s(3,"img",28),o(),i(4,"div",49)(5,"div",30)(6,"h5"),r(7),o(),S(8,Ze,3,0,"span",31),o(),i(9,"div",50),s(10,"ion-icon",33),r(11),T(12,"number"),o()(),i(13,"div",51),r(14),T(15,"currency"),o()(),i(16,"p",52),r(17),T(18,"slice"),o(),i(19,"div",53)(20,"span"),s(21,"ion-icon",54),r(22),o(),i(23,"ion-button",55),C("click",function(n){let l=v(e).$implicit,d=p(3);return f(d.aceptarCotizacion(l._id,n))}),r(24," Aceptar "),o()()()}if(a&2){let e=m.$implicit,t=p(3);c(3),E("src",t.obtenerFotoCotizacion(e),z),c(4),b(t.obtenerNombreTecnico(e)),c(),_(t.esTecnicoVerificado(e)?8:-1),c(3),O(" ",w(12,7,t.obtenerCalificacionTecnico(e),"1.1-1")," "),c(3),O(" ",q(15,10,e.precio||e.montoTotal||0,"USD","symbol","1.2-2")," "),c(3),O("",N(18,15,e.descripcionTrabajo||e.descripcion||"Sin descripci\xF3n",0,100),"..."),c(5),O(" ",t.formatearTiempoEstimado(e.tiempoEstimado)," ")}}function tt(a,m){if(a&1&&(i(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),s(3,"ion-icon",44),r(4),o()(),i(5,"ion-card-content",45),y(6,et,25,19,"div",46,He),o()()),a&2){let e=p(2);c(4),O(" Cotizaciones Recibidas (",e.cotizaciones.length,") "),c(2),k(e.cotizaciones)}}function it(a,m){if(a&1){let e=h();i(0,"div",20)(1,"ion-button",56),C("click",function(){v(e);let n=p(2);return f(n.enviarCotizacion())}),s(2,"ion-icon",57),r(3," Enviar Cotizaci\xF3n "),o()()}}function nt(a,m){if(a&1){let e=h();i(0,"ion-button",59),C("click",function(){v(e);let n=p(3);return f(n.marcarCompletado())}),s(1,"ion-icon",60),r(2," Marcar como Completado "),o()}}function ot(a,m){if(a&1&&(i(0,"div",20),S(1,nt,3,0,"ion-button",58),o()),a&2){let e=p(2);c(),_(e.esTecnico?1:-1)}}function at(a,m){if(a&1){let e=h();i(0,"div",20)(1,"ion-button",56),C("click",function(){v(e);let n=p(2);return f(n.escribirResena())}),s(2,"ion-icon",61),r(3," Escribir Rese\xF1a "),o()()}}function ct(a,m){if(a&1&&(i(0,"ion-card")(1,"ion-card-header")(2,"div",6)(3,"div")(4,"ion-badge",7),r(5),o(),S(6,Je,3,0,"ion-badge",8),o(),i(7,"ion-chip",9)(8,"ion-label"),r(9),o()()(),i(10,"ion-card-title"),r(11),o()(),i(12,"ion-card-content")(13,"p",10),r(14),o(),i(15,"div",11)(16,"div",12),s(17,"ion-icon",13),i(18,"div")(19,"span",14),r(20,"Ubicaci\xF3n"),o(),i(21,"span",15),r(22),o()()(),i(23,"div",12),s(24,"ion-icon",16),i(25,"div")(26,"span",14),r(27,"Fecha solicitada"),o(),i(28,"span",15),r(29),T(30,"date"),o()()(),i(31,"div",12),s(32,"ion-icon",17),i(33,"div")(34,"span",14),r(35,"Creado"),o(),i(36,"span",15),r(37),T(38,"date"),o()()()()()(),S(39,Qe,9,0,"ion-card")(40,Xe,23,8,"ion-card",18)(41,Ye,10,1,"ion-card",19)(42,tt,8,1,"ion-card")(43,it,4,0,"div",20)(44,ot,2,1,"div",20)(45,at,4,0,"div",20)),a&2){let e=p();c(4),E("color",e.obtenerColorEstado(e.servicio.estado)),c(),O(" ",e.obtenerEtiquetaEstado(e.servicio.estado)," "),c(),_(e.servicio.urgencia==="emergencia"?6:-1),c(3),b(e.obtenerEtiquetaTipo(e.servicio.tipo||e.servicio.tipoServicio)),c(2),b(e.servicio.titulo),c(3),b(e.servicio.descripcion),c(8),b((e.servicio.ubicacion==null?null:e.servicio.ubicacion.direccion)||"Sin ubicaci\xF3n"),c(7),b(w(30,16,e.servicio.fechaDeseada,"dd/MM/yyyy")||"Lo antes posible"),c(8),b(w(38,19,e.servicio.createdAt||e.servicio.fechaCreacion,"dd/MM/yyyy HH:mm")),c(2),_(e.servicio.fotos&&e.servicio.fotos.length>0?39:-1),c(),_(e.servicio.tecnicoAsignado?40:-1),c(),_(e.trabajoAsociado?41:-1),c(),_(e.esCliente&&(e.servicio.estado==="pendiente"||e.servicio.estado==="cotizado")&&e.cotizaciones.length>0?42:-1),c(),_(e.esTecnico&&e.servicio.estado==="pendiente"?43:-1),c(),_(e.servicio.estado==="en_progreso"?44:-1),c(),_(e.servicio.estado==="completado"&&e.esCliente&&e.trabajoAsociado&&!e.trabajoAsociado.resenaCliente&&!e.servicio.resena?45:-1)}}var Et=(()=>{class a{constructor(){this.route=u(G),this.router=u(L),this.serviciosServicio=u($e),this.cotizacionesServicio=u(Ne),this.authServicio=u(ue),this.socketServicio=u(Fe),this.alertCtrl=u(me),this.toastCtrl=u(_e),this.actionSheetCtrl=u(de),this.loadingCtrl=u(pe),this.modalCtrl=u(se),this.servicio=null,this.cotizaciones=[],this.trabajoAsociado=null,this.cargando=!1,this.servicioId="",this.subscriptions=[],ve({locationOutline:ze,calendarOutline:fe,timeOutline:De,personOutline:je,callOutline:Ce,chatbubbleOutline:he,starOutline:Ie,star:ke,flashOutline:Ee,checkmarkCircleOutline:be,closeCircleOutline:Se,ellipsisHorizontal:Me,documentTextOutline:Te,cashOutline:xe,imageOutline:we,shieldCheckmarkOutline:ye,constructOutline:Oe,chevronForwardOutline:Pe})}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&(this.servicioId=e,this.cargarServicio(e),this.configurarSuscripciones())}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}configurarSuscripciones(){let e=this.socketServicio.notificacion$.subscribe(t=>{let n=["cotizacion_cancelada","cotizacion_editada","nueva_cotizacion"],l=t.datos?.idServicio||t.datos?.servicio?._id;n.includes(t.tipo)&&l===this.servicioId&&(console.log("\u{1F504} Recargando servicio por notificaci\xF3n:",t.tipo),this.cargarServicio(this.servicioId))});this.subscriptions.push(e)}get esCliente(){return this.authServicio.esCliente()}get esTecnico(){return this.authServicio.esTecnico()}cargarServicio(e){this.cargando=!0,this.serviciosServicio.obtenerServicio(e).subscribe({next:t=>{this.cargando=!1,t.datos&&(this.servicio=t.datos.servicio||t.datos,this.cotizaciones=t.datos.cotizaciones||[],this.trabajoAsociado=t.datos.trabajo||null)},error:()=>{this.cargando=!1,this.mostrarToast("Error al cargar el servicio","danger")}})}mostrarOpciones(){return x(this,null,function*(){yield(yield this.actionSheetCtrl.create({header:"Opciones",buttons:[{text:"Editar Servicio",handler:()=>this.editarServicio()},{text:"Cancelar Servicio",role:"destructive",handler:()=>this.cancelarServicio()},{text:"Cerrar",role:"cancel"}]})).present()})}editarServicio(){this.router.navigate(["/editar-servicio",this.servicio?._id])}cancelarServicio(){return x(this,null,function*(){yield(yield this.alertCtrl.create({header:"Cancelar Servicio",message:"\xBFEst\xE1s seguro de que deseas cancelar este servicio?",buttons:[{text:"No",role:"cancel"},{text:"S\xED, Cancelar",role:"destructive",handler:()=>{this.serviciosServicio.cancelarServicio(this.servicio._id).subscribe({next:()=>{this.mostrarToast("Servicio cancelado"),this.router.navigate(["/tabs/servicios"])},error:()=>this.mostrarToast("Error al cancelar","danger")})}}]})).present()})}verFoto(e){}verTecnico(e){this.router.navigate(["/tecnico",e])}irAlTrabajo(){this.trabajoAsociado?._id&&this.router.navigate(["/trabajo",this.trabajoAsociado._id])}obtenerEtiquetaEstadoTrabajo(e){return{programado:"Programado",en_camino:"T\xE9cnico en camino",en_progreso:"En progreso",completado:"Completado",cancelado:"Cancelado"}[e]||e}llamar(e,t){t.stopPropagation(),window.location.href=`tel:${e}`}abrirChat(e,t){t.stopPropagation(),this.router.navigate(["/chat",e])}verCotizacion(e){return x(this,null,function*(){let t=this.cotizaciones.find(P=>P._id===e);if(!t)return;let n=t.precio||t.montoTotal||0,l=t.idTecnico||t.tecnico,d=t.datosTecnicoSnapshot?.nombre||`${l?.nombre||""} ${l?.apellido||""}`.trim()||"T\xE9cnico",g=t.descripcionTrabajo||t.descripcion||"Sin descripci\xF3n",M=this.formatearTiempoEstimado(t.tiempoEstimado),qe=t.garantia||t.notasAdicionales||"No especificada",j="";t.materiales&&t.materiales.length>0&&(j=`

\u{1F4E6} DESGLOSE DE COSTOS:
`,t.materiales.forEach((P,lt)=>{let Ue=P.nombre||P.concepto||P.descripcion||"Item",I=P.cantidad||1,D=P.precioUnitario||P.precio||0,Be=I*D;j+=`\u2022 ${Ue}: ${I} x $${D.toFixed(2)} = $${Be.toFixed(2)}
`}));let Re=`\u{1F4DD} DESCRIPCI\xD3N:
${g}

\u23F1\uFE0F TIEMPO ESTIMADO: ${M}

\u{1F6E1}\uFE0F GARANT\xCDA: ${qe}${j}`;yield(yield this.alertCtrl.create({header:`Cotizaci\xF3n de ${d}`,subHeader:`\u{1F4B0} Total: $${n.toFixed(2)}`,message:Re,cssClass:"alert-cotizacion-detalle",buttons:[{text:"Cerrar",role:"cancel"},{text:"Aceptar cotizaci\xF3n",handler:()=>{this.aceptarCotizacion(e,new Event("click"))}}]})).present()})}aceptarCotizacion(e,t){return x(this,null,function*(){t.stopPropagation();let n=this.cotizaciones.find(M=>M._id===e);if(!n)return;let l=n.precio||n.montoTotal||0,d=l*.03;yield(yield this.alertCtrl.create({header:"\xBFActivar Garant\xEDa de Satisfacci\xF3n?",subHeader:`Por solo $${d.toFixed(2)} adicionales (3%)`,message:`Tu dinero queda protegido hasta que apruebes el trabajo.

\u{1F4B0} Precio del servicio: $${l.toFixed(2)}
\u{1F6E1}\uFE0F Con garant\xEDa: $${(l+d).toFixed(2)}`,buttons:[{text:"No, gracias",handler:()=>this.mostrarFormularioPago(e,!1,l)},{text:"S\xED, activar garant\xEDa",handler:()=>this.mostrarFormularioPago(e,!0,l+d)}]})).present()})}mostrarFormularioPago(e,t,n){return x(this,null,function*(){yield(yield this.alertCtrl.create({header:"\u{1F4B3} Datos de Pago",subHeader:`Total a pagar: $${n.toFixed(2)}`,cssClass:"alert-pago-tarjeta",inputs:[{name:"numeroTarjeta",type:"text",value:"7777 7777 7777 7777",placeholder:"N\xFAmero de tarjeta (1234 5678 9012 3456)",attributes:{maxlength:19}},{name:"nombreTitular",type:"text",placeholder:"Nombre del titular"},{name:"fechaExpiracion",type:"text",placeholder:"MM/AA (ej: 12/28)"},{name:"cvv",type:"password",value:"777",placeholder:"CVV (3 d\xEDgitos)",attributes:{maxlength:4}}],buttons:[{text:"Cancelar",role:"cancel"},{text:"Pagar",handler:d=>!d.numeroTarjeta||!d.nombreTitular||!d.fechaExpiracion||!d.cvv?(this.mostrarToast("Por favor completa todos los campos","warning"),!1):d.numeroTarjeta.replace(/\s/g,"").length<13?(this.mostrarToast("N\xFAmero de tarjeta inv\xE1lido","warning"),!1):d.cvv.length<3?(this.mostrarToast("CVV inv\xE1lido","warning"),!1):(this.procesarPagoConTarjeta(e,t,n,d),!0)}]})).present()})}procesarPagoConTarjeta(e,t,n,l){return x(this,null,function*(){let d=yield this.loadingCtrl.create({message:"Procesando pago...",spinner:"crescent"});yield d.present(),yield new Promise(g=>setTimeout(g,1500)),d.message="Verificando tarjeta...",yield new Promise(g=>setTimeout(g,1e3)),d.message="Autorizando transacci\xF3n...",yield new Promise(g=>setTimeout(g,1e3)),this.cotizacionesServicio.aceptarCotizacion(e,{conGarantia:t}).subscribe({next:g=>x(this,null,function*(){yield d.dismiss();let M=yield this.alertCtrl.create({header:"\u2705 \xA1Pago Exitoso!",message:`Se han cargado $${n.toFixed(2)} a tu tarjeta terminada en ****${l.numeroTarjeta.slice(-4)}.

${t?"\u{1F6E1}\uFE0F Garant\xEDa de satisfacci\xF3n activada":""}`,buttons:["Continuar"]});yield M.present(),yield M.onDidDismiss(),g.datos?.trabajo?._id?this.router.navigate(["/trabajo",g.datos.trabajo._id]):this.cargarServicio(this.servicio._id)}),error:g=>x(this,null,function*(){yield d.dismiss(),this.mostrarToast(g.error?.mensaje||"Error al procesar pago","danger")})})})}enviarCotizacion(){this.router.navigate(["/nueva-cotizacion",this.servicio?._id])}marcarCompletado(){return x(this,null,function*(){yield(yield this.alertCtrl.create({header:"Completar Trabajo",message:"\xBFConfirmas que has terminado el trabajo?",buttons:[{text:"No",role:"cancel"},{text:"S\xED, Completado",handler:()=>{this.mostrarToast("\xA1Trabajo marcado como completado!","success")}}]})).present()})}escribirResena(){this.router.navigate(["/nueva-resena",this.servicio?._id])}obtenerColorEstado(e){return{pendiente:"warning",cotizado:"tertiary",en_progreso:"primary",completado:"success",cancelado:"danger"}[e]||"medium"}obtenerEtiquetaEstado(e){return Ve.find(n=>n.valor===e)?.etiqueta||e}obtenerEtiquetaTipo(e){return e?Ae.find(n=>n.valor===e)?.etiqueta||e:"Sin tipo"}obtenerFotoCotizacion(e){if(e.datosTecnicoSnapshot?.fotoUrl)return e.datosTecnicoSnapshot.fotoUrl;let t=e.idTecnico||e.tecnico;return t?.perfil?.fotoUrl?t.perfil.fotoUrl:t?.perfil?.fotoPerfil?t.perfil.fotoPerfil:"assets/avatar-default.png"}obtenerNombreTecnico(e){if(e.datosTecnicoSnapshot?.nombre)return e.datosTecnicoSnapshot.nombre;let t=e.idTecnico||e.tecnico;return t?.perfil?.nombre?`${t.perfil.nombre} ${t.perfil.apellido||""}`.trim():t?.nombre?`${t.nombre} ${t.apellido||""}`.trim():"T\xE9cnico"}obtenerCalificacionTecnico(e){return e.datosTecnicoSnapshot?.calificacion!==void 0?e.datosTecnicoSnapshot.calificacion:(e.idTecnico||e.tecnico)?.datosTecnico?.calificacionPromedio||0}esTecnicoVerificado(e){if(e.datosTecnicoSnapshot?.verificado||e.datosTecnicoSnapshot?.membresia?.badgeVerificado)return!0;let t=e.idTecnico||e.tecnico;return t?.datosTecnico?.membresia?.badgeVerificado===!0||t?.datosTecnico?.verificado===!0}formatearTiempoEstimado(e){return e?typeof e=="string"?e:e.valor&&e.unidad?`${e.valor} ${e.unidad}`:"No especificado":"No especificado"}mostrarToast(e,t="primary"){return x(this,null,function*(){yield(yield this.toastCtrl.create({message:e,duration:2e3,color:t,position:"bottom"})).present()})}static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275cmp=A({type:a,selectors:[["app-detalle-servicio"]],standalone:!0,features:[F],decls:10,vars:2,consts:[["slot","start"],["defaultHref","/tabs/servicios"],["slot","end"],[1,"loading-container"],[3,"click"],["name","ellipsis-horizontal"],[1,"servicio-header"],[3,"color"],["color","danger"],["size","small"],[1,"descripcion"],[1,"info-grid"],[1,"info-item"],["name","location-outline","color","primary"],[1,"label"],[1,"value"],["name","calendar-outline","color","primary"],["name","time-outline","color","primary"],[1,"tarjeta-tecnico"],[1,"trabajo-card"],[1,"ion-padding"],["name","flash-outline"],["name","image-outline"],[1,"fotos-grid"],["alt","Foto del servicio",3,"src"],["alt","Foto del servicio",3,"click","src"],[1,"tarjeta-tecnico",3,"click"],[1,"tecnico-info"],["alt","",3,"src"],[1,"tecnico-datos"],[1,"nombre-row"],[1,"badge-tecnico-verificado"],[1,"calificacion"],["name","star","color","warning"],[1,"tecnico-acciones"],["fill","clear",3,"click"],["name","call-outline"],["name","chatbubble-outline"],["name","shield-checkmark-outline"],[1,"trabajo-card",3,"click"],[1,"trabajo-enlace"],["name","construct-outline","color","primary"],[1,"trabajo-info"],["name","chevron-forward-outline",1,"icon-forward"],["name","document-text-outline"],[1,"cotizaciones-content"],[1,"tarjeta-cotizacion"],[1,"tarjeta-cotizacion",3,"click"],[1,"cotizacion-header"],[1,"cotizacion-tecnico"],[1,"calificacion-mini"],[1,"cotizacion-monto"],[1,"cotizacion-descripcion"],[1,"cotizacion-footer"],["name","time-outline"],["size","small",3,"click"],["expand","block",3,"click"],["name","cash-outline","slot","start"],["expand","block","color","success"],["expand","block","color","success",3,"click"],["name","checkmark-circle-outline","slot","start"],["name","star-outline","slot","start"]],template:function(t,n){t&1&&(i(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),s(3,"ion-back-button",1),o(),i(4,"ion-title"),r(5,"Detalle del Servicio"),o(),S(6,Ge,3,0,"ion-buttons",2),o()(),i(7,"ion-content"),S(8,Le,4,0,"div",3)(9,ct,46,22),o()),t&2&&(c(6),_(n.esCliente&&((n.servicio==null?null:n.servicio.estado)==="pendiente"||(n.servicio==null?null:n.servicio.estado)==="publicado")?6:-1),c(2),_(n.cargando?8:n.servicio?9:-1))},dependencies:[ne,oe,le,re,X,J,Y,Z,ee,te,Q,W,ge,ce,K,ie,ae,R,U,B,H],styles:[".loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:50vh}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:16px;color:var(--ion-color-medium)}ion-card[_ngcontent-%COMP%]{margin:16px;border-radius:12px}.servicio-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px}.servicio-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;gap:8px}.descripcion[_ngcontent-%COMP%]{color:var(--ion-color-medium);line-height:1.6;margin-bottom:20px}.info-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.info-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px}.info-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;margin-top:2px}.info-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;font-size:12px;color:var(--ion-color-medium)}.info-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{display:block;font-size:14px}.fotos-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}.fotos-grid[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;aspect-ratio:1;object-fit:cover;border-radius:8px;cursor:pointer}.tarjeta-tecnico[_ngcontent-%COMP%]{cursor:pointer}.tecnico-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.tecnico-info[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{width:56px;height:56px}.tecnico-info[_ngcontent-%COMP%]   .tecnico-datos[_ngcontent-%COMP%]{flex:1}.tecnico-info[_ngcontent-%COMP%]   .tecnico-datos[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;font-size:16px;font-weight:600}.tecnico-info[_ngcontent-%COMP%]   .tecnico-datos[_ngcontent-%COMP%]   .calificacion[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.tecnico-info[_ngcontent-%COMP%]   .tecnico-datos[_ngcontent-%COMP%]   .calificacion[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.tecnico-info[_ngcontent-%COMP%]   .tecnico-datos[_ngcontent-%COMP%]   .calificacion[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}.tecnico-info[_ngcontent-%COMP%]   .tecnico-acciones[_ngcontent-%COMP%]{display:flex;gap:4px}.cotizaciones-content[_ngcontent-%COMP%]{padding-top:0}.tarjeta-cotizacion[_ngcontent-%COMP%]{padding:16px;background:var(--ion-color-light);border-radius:12px;margin-bottom:12px;cursor:pointer}.tarjeta-cotizacion[_ngcontent-%COMP%]:last-child{margin-bottom:0}.cotizacion-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:12px}.cotizacion-header[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{width:44px;height:44px}.cotizacion-header[_ngcontent-%COMP%]   .cotizacion-tecnico[_ngcontent-%COMP%]{flex:1}.cotizacion-header[_ngcontent-%COMP%]   .cotizacion-tecnico[_ngcontent-%COMP%]   .nombre-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;flex-wrap:wrap;margin-bottom:2px}.cotizacion-header[_ngcontent-%COMP%]   .cotizacion-tecnico[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-size:14px;font-weight:600}.cotizacion-header[_ngcontent-%COMP%]   .cotizacion-tecnico[_ngcontent-%COMP%]   .calificacion-mini[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:12px}.cotizacion-header[_ngcontent-%COMP%]   .cotizacion-tecnico[_ngcontent-%COMP%]   .calificacion-mini[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px}.cotizacion-header[_ngcontent-%COMP%]   .cotizacion-monto[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:var(--ion-color-primary)}.cotizacion-descripcion[_ngcontent-%COMP%]{font-size:13px;color:var(--ion-color-medium);margin:0 0 12px}.cotizacion-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.cotizacion-footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:12px;color:var(--ion-color-medium)}.cotizacion-footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px}.trabajo-card[_ngcontent-%COMP%]{cursor:pointer;margin:16px;border-radius:12px;background:linear-gradient(135deg,var(--ion-color-primary),var(--ion-color-primary-shade))}.trabajo-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:16px}.trabajo-card[_ngcontent-%COMP%]   .trabajo-enlace[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;color:#fff}.trabajo-card[_ngcontent-%COMP%]   .trabajo-enlace[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]:first-child{font-size:32px}.trabajo-card[_ngcontent-%COMP%]   .trabajo-enlace[_ngcontent-%COMP%]   .trabajo-info[_ngcontent-%COMP%]{flex:1}.trabajo-card[_ngcontent-%COMP%]   .trabajo-enlace[_ngcontent-%COMP%]   .trabajo-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;font-size:16px;font-weight:600}.trabajo-card[_ngcontent-%COMP%]   .trabajo-enlace[_ngcontent-%COMP%]   .trabajo-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px;opacity:.9}.trabajo-card[_ngcontent-%COMP%]   .trabajo-enlace[_ngcontent-%COMP%]   .icon-forward[_ngcontent-%COMP%]{font-size:20px;opacity:.8}"]})}}return a})();export{Et as DetalleServicioPage};
